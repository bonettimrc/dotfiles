#!/bin/bash

mute="$(pactl get-sink-mute @DEFAULT_SINK@)"

if [ "$mute" == "Mute: yes" ] 
then
	echo "ðŸ”‡"
	exit
fi

volume="$(pactl get-sink-volume @DEFAULT_SINK@ |
	grep -m 1 --only-matching --extended-regexp [0-9]+% |
	head --lines=1 |
	sed 's/\%//')"

case 1 in
	$((volume >= 500)) ) icon="ðŸ’€" ;;
	$((volume >= 150)) ) icon="ðŸ’¥" ;;
	$((volume >= 70)) ) icon="ðŸ”Š" ;;
	$((volume >= 30)) ) icon="ðŸ”‰" ;;
	$((volume >= 1)) ) icon="ðŸ”ˆ" ;;
	* ) icon="ðŸ”‡";;
esac

echo "$icon$volume%"
